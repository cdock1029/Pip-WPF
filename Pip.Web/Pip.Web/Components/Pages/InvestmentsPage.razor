@page "/investments"
@attribute [StreamRendering]
@inject PipDbContext DbContext

<PageTitle>Investments</PageTitle>

<div class="investments-container" style="height:100%;display:flex;flex-direction:column;">
    <FluentLabel Class="page-title" Typo="Typography.PageTitle" MarginBlock="default">
        Investments
    </FluentLabel>

    <div style="flex:1 0 auto;height:1px;display:flex;">
        <InvestmentsComponent @rendermode="@(new InteractiveWebAssemblyRenderMode(true))" Investments="_investments" />
    </div>
</div>

@code {

    List<Investment>? _investments;

    protected override async Task OnInitializedAsync()
    {
        await Task.Yield();
        _investments = await DbContext.Investments.ToListAsync();
    }

}
